---
layout: default
---

<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
{% include alpine-components.html %}
{% include process-data.html %}

<main x-data='{{ page.data | jsonify }}' x-init="preprocess">
  <section>
    <div>
      <h1 class="font-extrabold">Today vs Average Day</h1>

      <div class="grid grid-cols-[12em_1fr_4em_4em] gap-2">
        <div>Song</div>
        <div></div>
        <div>Plays (Average)</div>
        <div>All Rank</div>
      </div>

      <template x-for="song in songs">
        <div class="mb-4">
          <div class="grid grid-cols-[12em_1fr_4em_4em] gap-2">
            <div class="">
              <h2 x-text="song.song_title" class="text-bold"></h2>
              <h3 x-text="song.example_artist" class="text-stone-500 text-sm"></h3>
            </div>

            <div class="space-x-1">
              <template x-for="i in song.maxPlays">
                <i class="fa-solid fa-gift"
                  :class="{ 'text-red-700': i <= song.samePlays, 'text-red-500': i <= song.todayPlays, 'text-stone-300': i > song.todayPlays }"></i>
              </template>
            </div>

            <div>
              <span x-text="song.todayPlays"></span>
              <span class="text-stone-400">(<span x-text="song.avgPlays"></span>)</span>
            </div>

            <div>
              <span class="text-stone-400" x-text="song.allRank"></span>
              <span x-data="{rank: song.rankChange}">
                <span x-bind="RankGlyph"></span>
              </span>
            </div>
          </div>
        </div>
      </template>
    </div>
  </section>
</main>